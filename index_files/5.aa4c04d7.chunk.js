/*! For license information please see 5.aa4c04d7.chunk.js.LICENSE.txt */
(this["webpackJsonpfc-wallet"]=this["webpackJsonpfc-wallet"]||[]).push([[5],{240:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(54);var c=n(79),a=n(43);function i(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(c.a)(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},247:function(e,t,n){"use strict";var r=n(1),c=n(85),a=n(39),i=n.p+"static/media/article-bg-image.29f2d318.png",s=n.p+"static/media/article-people-icon.821a4801.svg";n(254),t.a=function(e){var t,n=e.data,o=e.isDashboard,l=e.isResult,u=e.isMetric,d=function(e,t,n){try{var r=new URLSearchParams(e),a=r.entries(),i=Object(c.a)(a),s=i[0];return i.slice(1),s[1].length>0?(r.append(t,null!==n&&void 0!==n?n:null),decodeURIComponent(r.toString())):"".concat(e,"?").concat(t,"=").concat(n)}catch(o){return console.log(o),e}}(n.articleUrl,"fc_utm_source","wallet");return Object(r.jsxs)("div",{className:Object(a.a)("Article",o&&"Article--dashboard",l&&"Article--result",u&&"Article--metric",!(null===n||void 0===n?void 0:n.active)&&"Article--metric-disabled"),children:[n.active?Object(r.jsx)("a",{href:d,children:Object(r.jsx)("div",{className:"Article__overlay"})}):Object(r.jsx)("div",{className:"Article__overlay"}),Object(r.jsx)("img",{className:"Article__img",alt:"article",src:(null===(t=n.articleImageUrl)||void 0===t?void 0:t.includes("N/A"))?i:n.articleImageUrl}),Object(r.jsxs)("span",{className:"Article__read-count",children:[Object(r.jsx)("img",{className:"Article__icon",alt:"read-count",src:s})," ",n.visits]}),Object(r.jsx)("h2",{title:n.articleTitle,className:"Article__title",children:n.articleTitle}),Object(r.jsx)("h4",{title:n.publisherName,className:"Article__publisher",children:n.publisherName}),Object(r.jsx)("a",{className:Object(a.a)("Article__btn",n.articleReadByCurrentCustomer?"Article__btn--is-unlocked":"Article__btn--is-locked"),href:n.articleUrl,target:"_blank",children:Object(r.jsx)("span",{children:n.articleReadByCurrentCustomer?"Read again":"Unlock to read"})})]})}},248:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return N})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return g}));var r,c=n(0),a=n.n(c);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,c=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(o){c=!0,a=o}finally{try{r||null==s.return||s.return()}finally{if(c)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t="";return f(e,(function(n){0!==t.length&&(t+="&"),t+=n+"="+e[n]})),t}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createElement("script");return n.src=e,f(t,(function(e){n.setAttribute(e,t[e]),"data-csp-nonce"===e&&n.setAttribute("nonce",t["data-csp-nonce"])})),n}function f(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n)}function h(e){var t=0;return f(e,(function(){return t++})),t}var v,m=!1;function p(e,t){if(!(e instanceof Object))throw new Error("Invalid arguments. Expected an object to be passed into loadScript().");if("undefined"===typeof t){if("undefined"===typeof Promise)throw new Error("Failed to load the PayPal JS SDK script because Promise is undefined. To resolve the issue, use a Promise polyfill.");t=Promise}return m?r:r=new t((function(t,n){if("undefined"===typeof window)return t(null);var r=function(e){var t="https://www.paypal.com/sdk/js";e.sdkBaseURL&&(t=e.sdkBaseURL,delete e.sdkBaseURL);var n={queryParams:{},dataAttributes:{}};f(e,(function(t){var r="data-"===t.substring(0,5)?"dataAttributes":"queryParams";n[r][t]=e[t].toString()}));var r=n.queryParams,c=n.dataAttributes;return{url:"".concat(t,"?").concat(b(r)),dataAttributes:c}}(e),c=r.url,a=r.dataAttributes;if(function(e,t){var n=document.querySelector('script[src="'.concat(e,'"]'));if(null===n)return null;var r=j(e,t);if(h(n.dataset)!==h(r.dataset))return null;var c=!0;return f(n.dataset,(function(e){n.dataset[e]!==r.dataset[e]&&(c=!1)})),c?n:null}(c,a)&&window.paypal)return t(window.paypal);m=!0,function(e){var t=e.url,n=e.dataAttributes,r=e.onSuccess,c=e.onError,a=j(t,n);a.onerror=c,a.onload=r,document.head.insertBefore(a,document.head.firstElementChild)}({url:c,dataAttributes:a,onSuccess:function(){return m=!1,window.paypal?t(window.paypal):n(new Error("The window.paypal global variable is not available."))},onError:function(){return m=!1,n(new Error('The script "'.concat(c,"\" didn't load correctly.")))}})}))}!function(e){e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"}(v||(v={}));var O=Object(c.createContext)(null),x=Object(c.createContext)(null);function _(e,t){switch(t.type){case"setLoadingStatus":return{options:u({},e.options),loadingStatus:t.value};case"resetOptions":return{loadingStatus:v.PENDING,options:t.value};default:return e}}function g(){var e=Object(c.useContext)(O),t=Object(c.useContext)(x);if(null===e||null===t)throw new Error("usePayPalScriptReducer must be used within a PayPalScriptProvider");var n=e.loadingStatus;return[u(u({},o(e,["loadingStatus"])),{},{isPending:n===v.PENDING,isResolved:n===v.RESOLVED,isRejected:n===v.REJECTED}),t]}function y(e){var t=e.options,n=e.children,r={options:t,loadingStatus:v.PENDING},s=i(Object(c.useReducer)(_,r),2),o=s[0],l=s[1];return Object(c.useEffect)((function(){if(o.loadingStatus===v.PENDING){var e=!0;return p(o.options).then((function(){e&&l({type:"setLoadingStatus",value:v.RESOLVED})})).catch((function(){e&&l({type:"setLoadingStatus",value:v.REJECTED})})),function(){e=!1}}})),a.a.createElement(O.Provider,{value:o},a.a.createElement(x.Provider,{value:l},n))}function N(e){var t=e.className,n=void 0===t?"":t,r=e.disabled,s=void 0!==r&&r,l=e.forceReRender,d=o(e,["className","disabled","forceReRender"]),b=i(g(),1)[0],j=b.isResolved,f=b.options,h=Object(c.useRef)(null),v=Object(c.useRef)(null),m=i(Object(c.useState)(null),2),p=m[0],O=m[1],x=i(Object(c.useState)(null),2)[1];function _(){null!==v.current&&v.current.close()}Object(c.useEffect)((function(){if(!1===j)return _;if(void 0===window.paypal||void 0===window.paypal.Buttons)return x((function(){throw new Error(function(e){var t=e.components,n=void 0===t?"":t,r="Unable to render <PayPalButtons /> because window.paypal.Buttons is undefined.";if(n.length&&!n.includes("buttons")){var c="".concat(n,",buttons");r+="\nTo fix the issue, add 'buttons' to the list of components passed to the parent PayPalScriptProvider:"+"\n`<PayPalScriptProvider options={{ components: '".concat(c,"'}}>`.")}return r}(f))})),_;return v.current=window.paypal.Buttons(u(u({},d),{},{onInit:function(e,t){O(t),"function"===typeof d.onInit&&d.onInit(e,t)}})),!1===v.current.isEligible()||null===h.current||v.current.render(h.current).catch((function(e){console.error("Failed to render <PayPalButtons /> component. ".concat(e))})),_}),[j,l,d.fundingSource]),Object(c.useEffect)((function(){null!==p&&(!0===s?p.disable():p.enable())}),[s,p]);var y=s?{opacity:.33}:{},N="".concat(n," ").concat(s?"paypal-buttons-disabled":"").trim();return a.a.createElement("div",{ref:h,style:y,className:N})}var S={PAYPAL:"paypal",VENMO:"venmo",ITAU:"itau",CREDIT:"credit",PAYLATER:"paylater",CARD:"card",IDEAL:"ideal",SEPA:"sepa",BANCONTACT:"bancontact",GIROPAY:"giropay",SOFORT:"sofort",EPS:"eps",MYBANK:"mybank",P24:"p24",VERKKOPANKKI:"verkkopankki",PAYU:"payu",BLIK:"blik",TRUSTLY:"trustly",ZIMPLER:"zimpler",MAXIMA:"maxima",OXXO:"oxxo",BOLETO:"boleto",WECHATPAY:"wechatpay",MERCADOPAGO:"mercadopago"}},254:function(e,t,n){},262:function(e,t,n){},263:function(e,t,n){},264:function(e,t,n){},265:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){},287:function(e,t,n){},328:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(251),a=n(250),i=n(241),s=(n(284),function(){return Object(r.jsx)("div",{className:"Aside",children:Object(i.a)()?null:Object(r.jsx)(a.b,{})})}),o=n(25),l=n.p+"static/media/boy-illustration.0c7b75ea.svg",u=(n(285),function(e){var t=e.className,n=Object(o.c)((function(e){var t;return null===(t=e.user.customer)||void 0===t?void 0:t.name}));return Object(r.jsxs)("div",{className:t,children:[Object(r.jsxs)("h1",{className:"".concat(t,"__text"),children:["Welcome back"," ",Object(r.jsx)("strong",{className:"".concat(t,"__name"),children:null!==n&&void 0!==n?n:""}),"!"]}),Object(r.jsx)("img",{className:"".concat(t,"__img"),alt:"boy-illustration",src:l})]})}),d=n(11),b=n(9),j=function(e){return{type:b.n,filter:e}},f=n(0),h=n(247),v=n(8),m=n.n(v),p=n(12),O=n(7),x=n(5),_=n(18),g=function(e){switch(e){case"Visits":return 0;case"Unlocked":return 1;case"Visited but not unlocked":return 2;default:return 0}},y=(n(262),function(){return Object(r.jsxs)("div",{className:"CarouselSkeleton",children:[[1,2,3].map((function(e){return Object(r.jsxs)("div",{className:"CarouselSkeleton__card",children:[Object(r.jsx)("div",{className:"CarouselSkeleton__avatar"}),Object(r.jsx)("div",{className:"CarouselSkeleton__text"}),Object(r.jsx)("div",{className:"CarouselSkeleton__text"}),Object(r.jsx)("div",{className:"CarouselSkeleton__btn"})]},e)})),Object(r.jsx)("div",{className:"CarouselSkeleton__shimmer-wrapper",children:Object(r.jsx)("div",{className:"shimmer"})})]})}),N=n(39),S=function(e){var t,n=e.className,c=Object(f.useRef)(null),a=Object(o.c)((function(e){return e.dashboard.filter})),i=function(){var e=Object(f.useState)(!0),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(f.useState)([]),a=Object(d.a)(c,2),i=a[0],s=a[1],l=Object(o.c)((function(e){var t;return null===(t=e.user.customer)||void 0===t?void 0:t.id})),u=Object(o.c)((function(e){return e.dashboard.filter})),b=Object(x.a)();return Object(f.useEffect)((function(){var e=new AbortController,t=e.signal;return Object(p.a)(m.a.mark((function e(){var n,c,a,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l||!u){e.next=20;break}return e.prev=1,e.next=4,fetch("".concat(O.a.ApiBaseUrl,"/customer/").concat(l,"/visitedArticles/").concat(g(u)),{signal:t,headers:{Authorization:"Bearer ".concat(b)}});case 4:return n=e.sent,c=Object(_.a)(n),e.next=8,c.json();case 8:if(a=e.sent,i=a.data,o=a.message,a.success){e.next=12;break}throw new Error(null!==o&&void 0!==o?o:"Something went wrong. failed to process request");case 12:s(i.premiumarticles),r(!1),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(1),e.t0.message.includes("Unauthorized")&&Object(_.b)(),(null===t||void 0===t?void 0:t.aborted)&&console.error(e.t0),r(!1),console.log("Failed to fetch the articles");case 20:case"end":return e.stop()}}),e,null,[[1,15]])})))(),function(){e.abort()}}),[l,u]),[n,i]}(),s=Object(d.a)(i,2),l=s[0],u=s[1],b=Object(o.b)();return Object(r.jsxs)("div",{className:n,children:[Object(r.jsxs)("div",{className:"".concat(n,"__header"),children:[Object(r.jsx)("h3",{className:"".concat(n,"__title"),children:a}),Object(r.jsx)("div",{className:"".concat(n,"__close-btn"),onClick:function(){b(j(null))},children:Object(r.jsx)("i",{className:"material-icons",children:"close"})})]}),Object(r.jsxs)("div",{className:"".concat(n,"__container"),children:[Object(r.jsx)("button",{className:"".concat(n,"__nav-prev-btn"),onClick:(t=180,function(){null!==c.current&&(c.current.scrollLeft-=t)}),children:Object(r.jsx)("i",{className:"material-icons",children:"chevron_left"})}),Object(r.jsx)("div",{ref:c,className:Object(N.a)("".concat(n,"__scroll-bar"),0===(null===u||void 0===u?void 0:u.length)&&"".concat(n,"__zero-articles")),children:l?Object(r.jsx)(y,{}):(null===u||void 0===u?void 0:u.length)?u.map((function(e){return Object(r.jsx)(h.a,{data:e,isDashboard:!0,isMetric:!0},e.articleId)})):Object(r.jsx)("div",{className:"".concat(n,"__error-container"),children:Object(r.jsx)("p",{className:"".concat(n,"__error-text"),children:"No articles were found..."})})}),Object(r.jsx)("div",{className:"".concat(n,"__shiftright"),children:Object(r.jsx)("button",{className:"".concat(n,"__nav-next-btn"),onClick:function(e){return function(){null!==c.current&&(c.current.scrollLeft+=e)}}(180),children:Object(r.jsx)("i",{className:"material-icons",children:"chevron_right"})})})]})]})},w=function(e){var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},k=function(e){var t=e.data,n=Object(f.useRef)();return Object(f.useEffect)((function(){var e;if(n.current){var r=(e=n.current).getContext("2d"),c=(w(r),getComputedStyle(e).getPropertyValue("width")),a=getComputedStyle(e).getPropertyValue("height");1.25,e.width=1.25*parseInt(c.split("px")[0]),e.height=1.25*parseInt(a.split("px")[0]),e.style.width="".concat(c,"px"),e.style.height="".concat(a,"px");var i=t.reduce((function(e,t){return e+t.value}),0),s=0,o=e.width/2,l=e.height/2;t.forEach((function(e){if(r){r.fillStyle=e.color,r.lineWidth=1,r.strokeStyle=e.color,r.beginPath();var t=e.value/i*Math.PI*2+s;r.moveTo(o,l),r.arc(o,l,70,s,t,!1),r.lineTo(o,l),r.fill(),r.stroke(),r.closePath(),s=t}}))}})),Object(r.jsx)("canvas",{ref:n,style:{width:"125px",height:"125px"}})},P=(n(263),function(){return Object(r.jsxs)("div",{className:"PieSkeleton",children:[Object(r.jsx)("div",{className:"PieSkeleton__title"}),Object(r.jsxs)("div",{className:"PieSkeleton__content",children:[Object(r.jsx)("div",{className:"PieSkeleton__avatar-big"}),Object(r.jsx)("div",{className:"PieSkeleton__label-container",children:[1,2,3].map((function(e){return Object(r.jsxs)("div",{className:"PieSkeleton__label",children:[Object(r.jsx)("div",{className:"PieSkeleton__avatar"}),Object(r.jsx)("div",{className:"PieSkeleton__text"})]},e)}))})]}),Object(r.jsx)("div",{className:"PieSkeleton__shimmer-wrapper",children:Object(r.jsx)("div",{className:"shimmer"})})]})}),A=["#0059FF","#ACB9FF","#98C1FF","#ADCEFF"],E=function(e){var t=e.id,n=e.title;return Object(r.jsx)("span",{className:Object(N.a)("Label","Label--".concat(t)),children:n})},C=function(e){var t,n,c=e.pieData,a=e.loading,i=-1;c&&(n=c.reduce((function(e,t){return 0!==t.unlocks?(i++,e.concat({id:i,title:t.publisherName,value:t.unlocks,color:A[i]})):e}),[]));return Object(r.jsx)("div",{className:"Pie",children:a?Object(r.jsx)(P,{}):Object(r.jsxs)(r.Fragment,{children:[" ",Object(r.jsx)("div",{className:"Pie__header",children:Object(r.jsx)("h3",{className:"Pie__text",children:"Your Top Publishers"})}),Object(r.jsxs)("div",{className:"Pie__body",children:[(null===(t=n)||void 0===t?void 0:t.length)?Object(r.jsx)(k,{data:n}):Object(r.jsx)("div",{className:"Pie__no-content-container",children:Object(r.jsx)("p",{className:"Pie__no-content-text",children:"No publishers found..."})}),function(){var e;return Object(r.jsx)("div",{className:"Pie__label-container",children:(null===(e=n)||void 0===e?void 0:e.length)?n.map((function(e,t){return Object(r.jsx)(E,{id:e.id,title:e.title},t)})):null})}()]})]})})},R=n(240),B=function(e){var t=e.data,n=e.maxValue,c=Object(f.useRef)();return Object(f.useEffect)((function(){var e;if(c.current&&t){var r=(e=c.current).getContext("2d"),a=w(r),i=getComputedStyle(e).getPropertyValue("width"),s=getComputedStyle(e).getPropertyValue("height");a>1.25&&(a=1.25),e.width=parseInt(i.split("px")[0])*a,e.height=parseInt(s.split("px")[0])*a,e.style.width="".concat(i,"px"),e.style.height="".concat(s,"px");var o=e.height-40,l=(e.width-20)/t.length-10,u=10;t.forEach((function(t){if(r){var c,a=t.value;c=0!==n?o*a/n:0,r.fillStyle="#0E63E9",r.fillRect(u,e.height-c-20,l,c);var i=l/2;r.font="500 14px xyz, ".concat("Segoe UI",", Helvetica, Arial, monospace"),r.textBaseline="alphabetic",r.direction="ltr",r.fillStyle="#000",r.textAlign="center",r.fillText(t.month,u+i,e.height-5),r.fillText(t.value.toString(),u+i,e.height-c-25),u+=l+10}}))}}),[t]),Object(r.jsx)("canvas",{ref:c,style:{width:"300px",height:"150px"}})},I=(n(264),function(){return Object(r.jsxs)("div",{className:"BarSkeleton",children:[Object(r.jsx)("div",{className:"BarSkeleton__title"}),Object(r.jsx)("div",{className:"BarSkeleton__content",children:[1,2,3,4,5].map((function(e){return Object(r.jsx)("div",{className:"BarSkeleton__bar BarSkeleton__bar--".concat(e)},e)}))}),Object(r.jsx)("div",{className:"BarSkeleton__shimmer-wrapper",children:Object(r.jsx)("div",{className:"shimmer"})})]})}),D=function(e){var t,n=e.barData,c=e.loading;return n&&(t=Math.max.apply(Math,Object(R.a)(n.map((function(e){return e.value}))))),Object(r.jsx)("div",{className:"Bar",children:c?Object(r.jsx)(I,{}):Object(r.jsxs)(r.Fragment,{children:[" ",Object(r.jsx)("div",{className:"Bar__header",children:Object(r.jsx)("h3",{className:"Bar__text",children:"Consumption by Month"})}),Object(r.jsx)("div",{className:"Bar__body",children:(null===n||void 0===n?void 0:n.length)&&0!==t?Object(r.jsx)(B,{data:n,maxValue:t}):Object(r.jsx)("div",{className:"Bar__no-content-container",children:Object(r.jsx)("p",{className:"Bar__no-content-text",children:"No content consumed..."})})})]})})},T=function(e,t){return e.unlocks>t.unlocks?-1:e.unlocks<t.unlocks?1:void 0},U=function(e){var t=[],n=[],r=[],c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if(e.length>=6)e.forEach((function(e){var t;r.push({month:"".concat((t=e.yearMonth,c[parseInt(t.split("-")[1])-1])," ").concat(e.yearMonth.slice(2,4)),value:e.unlocks})})),r=r.slice(-6);else{var a,i,s=e[e.length-1].yearMonth.split("-"),o=Object(d.a)(s,2),l=o[0],u=o[1];parseInt(u)-6>=0?(a=(parseInt(u)-6+12+1)%12,i=l):(a=parseInt(u)-6+12+1,i=(l-1).toString()),t.push.apply(t,Object(R.a)(c.slice(a-1).map((function(e){return"".concat(e," ").concat(i.slice(2))}))).concat(Object(R.a)(c.slice(0,parseInt(u)).map((function(e){return"".concat(e," ").concat(l.slice(2))}))))),n.push.apply(n,Object(R.a)(Array(6-e.length).fill(0))),e.forEach((function(e){n.push(e.unlocks)}));for(var b=0;b<n.length;b++)r.push({month:t[b],value:n[b]})}return r},L=function(){var e=Object(o.b)(),t=Object(f.useState)(!0),n=Object(d.a)(t,2),r=n[0],c=n[1],a=Object(f.useState)(""),i=Object(d.a)(a,2),s=i[0],l=i[1],u=Object(o.c)((function(e){var t;return null===(t=e.user.customer)||void 0===t?void 0:t.id})),j=Object(x.a)();return Object(f.useEffect)((function(){var t=!0,n=new AbortController,r=n.signal;return Object(p.a)(m.a.mark((function n(){var a,i,s,o,d;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!u){n.next=21;break}return n.prev=1,n.next=4,fetch("".concat(O.a.ApiBaseUrl,"/customer/").concat(u,"/fewCentsProfile"),{signal:r,headers:{Authorization:"Bearer ".concat(j)}});case 4:return a=n.sent,i=Object(_.a)(a),n.next=8,i.json();case 8:if(s=n.sent,o=s.data,d=s.message,s.success){n.next=12;break}throw new Error(null!==d&&void 0!==d?d:"Something went wrong. failed to process request");case 12:e((f=o.totalVisits,h=o.totalUnlocks,v=o.totalPaidUnlocks,m=U(o.monthlyProfile),p=o.publisherProfile.sort(T).slice(0,4),{type:b.p,visits:f,unlocks:h,paidUnlocks:v,barData:m,pieData:p})),t&&c(!1),n.next=21;break;case 16:n.prev=16,n.t0=n.catch(1),n.t0.message.includes("Unauthorized")&&Object(_.b)(),(null===r||void 0===r?void 0:r.aborted)&&console.error(n.t0),t&&(l(n.t0.message),c(!1));case 21:case"end":return n.stop()}var f,h,v,m,p}),n,null,[[1,16]])})))(),function(){t=!1,n.abort()}}),[u]),[s,r]},M=(n(286),function(e){var t=e.title,n=e.value,c=Object(o.b)();return Object(r.jsxs)("div",{className:"BoxMetric",onClick:function(){c(j(t))},children:[Object(r.jsx)("h3",{className:"BoxMetric__title",children:t}),Object(r.jsx)("span",{className:"BoxMetric__value",children:n})]})}),F=function(e){var t,n,c,a=e.className,i=L(),s=Object(d.a)(i,2),l=(s[0],s[1]),u=Object(o.c)((function(e){return e.metrics})),b=Object(o.c)((function(e){return e.dashboard.filter})),j=[{title:"Visits",count:null!==(t=u.visits)&&void 0!==t?t:0},{title:"Unlocked",count:null!==(n=u.unlocks)&&void 0!==n?n:0},{title:"Visited but not unlocked",count:null!==(c=u.visits-u.unlocks)&&void 0!==c?c:0}];return Object(r.jsxs)("div",{className:a,children:[Object(r.jsx)("div",{className:"".concat(a,"__simple"),children:j.map((function(e,t){return Object(r.jsx)(M,{title:e.title,value:e.count},t)}))}),Object(r.jsx)("div",{children:b&&Object(r.jsx)(S,{className:"DashboardFilter"})}),Object(r.jsxs)("div",{className:"".concat(a,"__advance"),children:[Object(r.jsx)(C,{pieData:u.pieData,loading:l}),Object(r.jsx)(D,{barData:u.barData,loading:l})]})]})},V=n(20),z=(n(265),function(){return Object(r.jsxs)("div",{className:"CarouselSkeleton",children:[[1,2,3].map((function(e){return Object(r.jsxs)("div",{className:"CarouselSkeleton__card",children:[Object(r.jsx)("div",{className:"CarouselSkeleton__avatar"}),Object(r.jsx)("div",{className:"CarouselSkeleton__text"}),Object(r.jsx)("div",{className:"CarouselSkeleton__text"}),Object(r.jsx)("div",{className:"CarouselSkeleton__btn"})]},e)})),Object(r.jsx)("div",{className:"CarouselSkeleton__shimmer-wrapper",children:Object(r.jsx)("div",{className:"shimmer"})})]})}),J=function(e){var t,n=e.className,c=Object(f.useRef)(null),a=function(){var e=Object(f.useState)(!0),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(f.useState)([]),a=Object(d.a)(c,2),i=a[0],s=a[1],l=Object(o.c)((function(e){var t;return null===(t=e.user.customer)||void 0===t?void 0:t.id})),u=Object(x.a)(),b={customerId:l,count:20,publisherIdList:null,readStatus:"all"};return Object(f.useEffect)((function(){var e=!0,t=new AbortController,n=t.signal;return Object(p.a)(m.a.mark((function t(){var c,a,i,o,d;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!l){t.next=21;break}return r(!0),t.prev=2,t.next=5,fetch("".concat(O.a.ApiBaseUrl,"/customer/premiumArticles"),{signal:n,method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)},body:JSON.stringify(b)});case 5:return c=t.sent,a=Object(_.a)(c),t.next=9,a.json();case 9:if(i=t.sent,o=i.data,d=i.message,i.success){t.next=13;break}throw new Error(null!==d&&void 0!==d?d:"Something went wrong. failed to process request");case 13:e&&(s(o.premiumarticles),r(!1)),t.next=21;break;case 16:t.prev=16,t.t0=t.catch(2),t.t0.message.includes("Unauthorized")&&Object(_.b)(),(null===n||void 0===n?void 0:n.aborted)&&console.error(t.t0),e&&(r(!1),V.b.error("Failed to fetch the articles"));case 21:case"end":return t.stop()}}),t,null,[[2,16]])})))(),function(){e=!1,t.abort()}}),[l]),[n,i]}(),i=Object(d.a)(a,2),s=i[0],l=i[1];return Object(r.jsxs)("div",{className:n,children:[Object(r.jsx)("h3",{className:"".concat(n,"__title"),children:"Latest Content"}),Object(r.jsxs)("div",{className:"".concat(n,"__container"),children:[Object(r.jsx)("button",{className:"".concat(n,"__nav-prev-btn"),onClick:(t=180,function(){null!==c.current&&(c.current.scrollLeft-=t)}),children:Object(r.jsx)("i",{className:"material-icons",children:"chevron_left"})}),Object(r.jsx)("div",{ref:c,className:"".concat(n,"__scroll-bar"),children:s?Object(r.jsx)(z,{}):(null===l||void 0===l?void 0:l.length)?l.map((function(e){return Object(r.jsx)(h.a,{data:e,isDashboard:!0},e.articleId)})):Object(r.jsx)("div",{className:"".concat(n,"__error-container"),children:Object(r.jsx)("p",{className:"".concat(n,"__error-text"),children:"No articles were found..."})})}),Object(r.jsx)("button",{className:"".concat(n,"__nav-next-btn"),onClick:function(e){return function(){null!==c.current&&(c.current.scrollLeft+=e)}}(180),children:Object(r.jsx)("i",{className:"material-icons",children:"chevron_right"})})]})]})},Y=(n(287),function(){return Object(r.jsxs)("div",{className:"Content",children:[Object(r.jsx)(u,{className:"DashboardHeader"}),Object(i.a)()?Object(r.jsx)(a.a,{isMobile:!0}):null,Object(r.jsx)(F,{className:"DashboardMetrics"}),Object(r.jsx)(J,{className:"DashboardRecommendation"})]})});t.default=function(){return Object(r.jsx)(c.b,{children:Object(r.jsxs)(c.a,{className:"ContentLayout__dashboard",children:[Object(r.jsx)(Y,{}),Object(r.jsx)(s,{})]})})}}}]);
//# sourceMappingURL=5.aa4c04d7.chunk.js.map